(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"+Kmi":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var c=n("2Vo4");const i=(t=class{})=>class extends t{constructor(){super(...arguments),this.triggerValidationSubject$=new c.a(!1),this.triggerValidationAction$=this.triggerValidationSubject$.asObservable(),this.submitInProgressSubject$=new c.a(!1),this.submitInProgressAction$=this.submitInProgressSubject$.asObservable(),this.editFormSubject$=new c.a(!1),this.editFormAction$=this.editFormSubject$.asObservable(),this.closeFormDialog=()=>!this.itemForm.touched||confirm("You have unsaved changes, Do you wish to continue? ")}}},"/HMp":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var c=n("fXoL");let i=(()=>{class t{transform(t){return"-"===t.toString().charAt(0)?"("+t.toString().substring(1,t.toString(9).length)+")":t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Lb({name:"minus2parenthesis",type:t,pure:!0}),t})()},"2qjx":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var c=n("l7P3"),i=n("gJ3R"),r=n("lJxs"),s=n("jtHE"),o=n("vkgz"),a=n("CRaK"),u=n("fXoL"),d=n("tk/3");let l=(()=>{class t{constructor(t,e){this.store=t,this.http=e,this.products$=this.http.get("api/products").pipe(Object(r.a)(t=>t.map(t=>({id:t.id,name:t.name,sellingPrice:t.selling_price,buyingPrice:t.buying_price,buyingPriceCurrency:t.buying_price_currency,sellingPriceCurrency:t.selling_price_currency,maxAmountCheck:t.max,minAmountCheck:t.min}))),function(t,e,n){let c;return c={bufferSize:1,windowTime:void 0,refCount:!1,scheduler:void 0},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:c}){let i,r,o=0,a=!1,u=!1;return function(d){let l;o++,!i||a?(a=!1,i=new s.a(t,e,c),l=i.subscribe(this),r=d.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,r=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),r&&!u&&n&&0===o&&(r.unsubscribe(),r=void 0,i=void 0)})}}(c))}()),this.productsStockCount$=this.http.get("api/products?stock_count=true").pipe(Object(r.a)(t=>t.map(t=>({id:t.id,name:t.name,count:t.count,purchases:t.purchases,min:t.min,max:t.max})))),this.loadProducts$=this.store.pipe(Object(c.t)(i.a),Object(o.a)(({length:t})=>t<1?this.store.dispatch(Object(a.b)()):""))}deleteProduct(t){return this.http.delete(`api/products/${t}`)}saveProduct(t){let e=`api/products/${t.id}`;return 0===t.id?(e="api/products",this.http.post(e,{name:t.name,buying_price:t.buyingPrice,selling_price:t.sellingPrice,selling_price_currency:t.sellingPriceCurrency,buying_price_currency:t.buyingPriceCurrency,max:t.maxAmountCheck,min:t.minAmountCheck}).pipe(Object(r.a)(t=>t.data),Object(r.a)(t=>({id:t.id,name:t.name,sellingPrice:t.selling_price,buyingPrice:t.buying_price,buyingPriceCurrency:t.buying_price_currency,sellingPriceCurrency:t.selling_price_currency,maxAmountCheck:t.max,minAmountCheck:t.min})))):this.http.post(e,{_method:"PATCH",name:t.name,buying_price:t.buyingPrice,selling_price:t.sellingPrice,selling_price_currency:t.sellingPriceCurrency,buying_price_currency:t.buyingPriceCurrency,max:t.maxAmountCheck,min:t.minAmountCheck}).pipe(Object(r.a)(t=>t.data),Object(r.a)(t=>({id:t.id,name:t.name,sellingPrice:t.selling_price,buyingPrice:t.buying_price,buyingPriceCurrency:t.buying_price_currency,sellingPriceCurrency:t.selling_price_currency,maxAmountCheck:t.max,minAmountCheck:t.min})))}}return t.\u0275fac=function(e){return new(e||t)(u.Wb(c.h),u.Wb(d.b))},t.\u0275prov=u.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"6MUB":function(t,e,n){"use strict";var c=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var r=encodeURIComponent(c(i))+n;return Array.isArray(t[i])?t[i].map(function(t){return r+encodeURIComponent(c(t))}).join(e):r+encodeURIComponent(c(t[i]))}).join(e):i?encodeURIComponent(c(i))+n+encodeURIComponent(c(t)):""}},"6sdO":function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var c=n("l7P3"),i=n("CRaK");const r="products",s=Object(c.p)({0:{id:0,name:"",buyingPrice:0,buyingPriceCurrency:"KES",sellingPrice:0,sellingPriceCurrency:"KES"}},Object(c.r)(i.b,t=>t),Object(c.r)(i.d,(t,e)=>{const n={};return e.data.forEach(t=>{n[t.id]=t}),Object.assign(Object.assign({},t),n)}),Object(c.r)(i.c,t=>t),Object(c.r)(i.a,(t,e)=>{const n=Object.assign({},t);return delete n[e.data.id],n}))},"9cBx":function(t,e,n){"use strict";n.d(e,"a",function(){return P});var c=n("3Pt+"),i=n("2Vo4"),r=n("itXk"),s=n("lJxs"),o=n("vkgz"),a=n("wbsq"),u=n("fXoL"),d=n("TTF2"),l=n("tyNb"),b=n("l7P3"),p=n("ofXK"),h=n("QlUG");const m=function(){return[!0]};function f(t,e){1&t&&(u.Qb(0),u.Nb(1,"app-input",11),u.Pb()),2&t&&(u.Ab(1),u.hc("autofocus",u.jc(1,m)))}function g(t,e){1&t&&(u.Sb(0,"small",12),u.Ac(1,"Password do not match!"),u.Rb())}function y(t,e){1&t&&u.Nb(0,"i",13)}function v(t,e){1&t&&u.Nb(0,"i",14)}const S=function(){return["/dashboard"]},j=t=>{var e,n;return(null===(e=t.get("newPassword"))||void 0===e?void 0:e.value)===(null===(n=t.get("newPasswordConfirmation"))||void 0===n?void 0:n.value)?null:{passwordMismatch:!0}};let P=(()=>{class t{constructor(t,e,n,r,u){this.fb=t,this.authService=e,this.route=n,this.router=r,this.store=u,this.componentIsActive=!0,this.passwordChangeForm=this.fb.group({token:[""],oldPassword:[""],newPassword:["",[c.v.required]],newPasswordConfirmation:["",[c.v.required]]},{validators:[j]}),this.isSubmittingSubject$=new i.a(!1),this.isSubmittingActions$=this.isSubmittingSubject$.asObservable(),this.showOldPasswordField$=this.route.queryParams.pipe(Object(s.a)(t=>t.token),Object(o.a)(t=>{var e;return t?null===(e=this.passwordChangeForm.get("token"))||void 0===e?void 0:e.setValue(t):""}),Object(s.a)(t=>!t),Object(o.a)(t=>{this.passwordChangeForm.get("oldPassword").setValidators(t?[c.v.required]:[])})),this.passwordChangeSuccess=([t])=>{t=t||"/dashboard",this.isSubmittingSubject$.next(!1),this.store.dispatch(Object(a.a)()),this.router.navigate([t])}}get showPasswordMismatch(){var t,e,n,c;return this.passwordChangeForm.hasError("passwordMismatch")&&(null===(t=this.passwordChangeForm.get("newPassword"))||void 0===t?void 0:t.touched)&&(null===(e=this.passwordChangeForm.get("newPassword"))||void 0===e?void 0:e.dirty)&&(null===(n=this.passwordChangeForm.get("newPasswordConfirmation"))||void 0===n?void 0:n.touched)&&(null===(c=this.passwordChangeForm.get("newPasswordConfirmation"))||void 0===c?void 0:c.dirty)}submitPasswordChangeForm(){var t;this.isSubmittingSubject$.next(!0),this.passwordChangeForm.valid?Object(r.a)([this.route.queryParams.pipe(Object(s.a)(t=>t.returnUrl)),this.authService.changePassword(this.passwordChangeForm.value)]).subscribe({next:this.passwordChangeSuccess,error:()=>this.isSubmittingSubject$.next(!1)}):null===(t=this.passwordChangeForm.get("email"))||void 0===t||t.markAsTouched()}ngOnDestroy(){this.componentIsActive=!1}}return t.\u0275fac=function(e){return new(e||t)(u.Mb(c.d),u.Mb(d.a),u.Mb(l.a),u.Mb(l.f),u.Mb(b.h))},t.\u0275cmp=u.Gb({type:t,selectors:[["app-password-change-form"]],decls:17,vars:17,consts:[[1,"form-horizontal",3,"formGroup","submit"],[4,"ngIf"],["type","password","labelClass","col-lg-12 col-md-12","inputClass","col-lg-12","label","New Password","placeholder","Enter New Password","id","newPassword","formControlName","newPassword","prependIcon","icon-lock",3,"showPasswordStrength"],["type","password","labelClass","col-lg-12 col-md-12","inputClass","col-lg-12","label","New Password Confirmation","placeholder","Enter New Password Confirmation","id","newPasswordConfirmation","formControlName","newPasswordConfirmation","prependIcon","icon-lock"],[2,"position","relative"],["style","position: absolute; margin-top: -25px;","class","text-danger",4,"ngIf"],[1,"d-flex","justify-content-between"],["type","button","queryParamsHandling","preserve",1,"btn","btn-secondary",3,"routerLink"],[1,"btn","btn-success",3,"disabled"],["class","icon-spin3 animate-spin",4,"ngIf"],["class","icon-ok-1",4,"ngIf"],["type","password","labelClass","col-lg-12 col-md-12","inputClass","col-lg-12","label","Old Password","placeholder","Enter Old Password","id","oldPassword","formControlName","oldPassword","prependIcon","icon-lock",3,"autofocus"],[1,"text-danger",2,"position","absolute","margin-top","-25px"],[1,"icon-spin3","animate-spin"],[1,"icon-ok-1"]],template:function(t,e){1&t&&(u.Sb(0,"form",0),u.Zb("submit",function(){return e.submitPasswordChangeForm()}),u.yc(1,f,2,2,"ng-container",1),u.cc(2,"async"),u.Nb(3,"app-input",2),u.Nb(4,"app-input",3),u.Sb(5,"section",4),u.yc(6,g,2,0,"small",5),u.Rb(),u.Sb(7,"section",6),u.Sb(8,"a",7),u.Ac(9,"Cancel"),u.Rb(),u.Sb(10,"button",8),u.cc(11,"async"),u.Ac(12," Submit "),u.yc(13,y,1,0,"i",9),u.cc(14,"async"),u.yc(15,v,1,0,"i",10),u.cc(16,"async"),u.Rb(),u.Rb(),u.Rb()),2&t&&(u.hc("formGroup",e.passwordChangeForm),u.Ab(1),u.hc("ngIf",u.dc(2,8,e.showOldPasswordField$)),u.Ab(2),u.hc("showPasswordStrength",!0),u.Ab(3),u.hc("ngIf",e.showPasswordMismatch),u.Ab(2),u.hc("routerLink",u.jc(16,S)),u.Ab(2),u.hc("disabled",!e.passwordChangeForm.dirty||!e.passwordChangeForm.valid||u.dc(11,10,e.isSubmittingActions$)),u.Ab(3),u.hc("ngIf",u.dc(14,12,e.isSubmittingActions$)),u.Ab(2),u.hc("ngIf",!1===u.dc(16,14,e.isSubmittingActions$)&&e.passwordChangeForm.valid&&e.passwordChangeForm.dirty))},directives:[c.x,c.n,c.h,p.n,h.a,c.m,c.g,l.i],pipes:[p.b],styles:[""]}),t})()},"B/gT":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var c=n("l7P3"),i=n("nPLa"),r=n("vkgz"),s=n("pLZG"),o=n("GJmQ"),a=n("kiNb");const u=Object(c.o)(a.a),d=Object(c.q)(u,t=>t.open),l=(t=class{})=>class extends t{constructor(...t){super(...t),this.componentIsActive=!0,this.config={initialState:{id:0},backdrop:!0,ignoreBackdropClick:!0,animated:!0},this.modalServiceInjected=t[0],this.storeInjected=t[1]}openModal({id:t,component:e}){this.storeInjected.dispatch(Object(i.b)()),this.config.initialState={id:t},this.modalRef=this.modalServiceInjected.show(e,this.config),this.modalRef.setClass("modal-lg bg-dark text-light modal-container "),this.storeInjected.pipe(Object(c.t)(d),Object(r.a)(t=>this.modalIsOpen=t),Object(s.a)(t=>!t),Object(r.a)(()=>this.modalRef.hide()),Object(o.a)(()=>this.componentIsActive)).subscribe()}closeModal(){this.storeInjected.dispatch(Object(i.a)())}canDeactivate(){return!this.modalIsOpen||confirm("Do you wish to exit Form?")}}},CRaK:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"d",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"a",function(){return o});var c=n("l7P3");const i=Object(c.n)("[Products] Load Products"),r=Object(c.n)("[Products] Load Products Success",Object(c.s)()),s=Object(c.n)("[Products] Load Products Failure",Object(c.s)()),o=Object(c.n)("[Products] Delete Product",Object(c.s)())},ChtM:function(t,e,n){"use strict";n.d(e,"a",function(){return p});var c=n("LRne"),i=n("l7P3"),r=n("LbUp");const s=Object(i.o)(r.a);var o=n("vkgz"),a=n("lJxs"),u=n("JIr8"),d=n("cNJo"),l=n("fXoL"),b=n("tk/3");let p=(()=>{class t{constructor(t,e){this.store=t,this.http=e,this.loadCurrencies$=this.store.pipe(Object(i.t)(s),Object(o.a)(({length:t})=>t<1?this.store.dispatch(Object(d.a)()):"")),this.currencies$=this.http.get("api/currencies").pipe(Object(a.a)(t=>t.map(t=>t.name)),Object(u.a)(()=>Object(c.a)(["KES","GBP","EUR","USD","INR","ZAR","AUD"])))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(i.h),l.Wb(b.b))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},GTn6:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n("ofXK"),i=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[c.c]]}),t})()},IVO7:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var c=n("ofXK"),i=n("3Pt+"),r=n("fXoL");let s=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[c.c,i.j]]}),t})()},JGge:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var c=n("ofXK"),i=n("tyNb"),r=n("3Pt+"),s=n("K3ix"),o=n("WwdM"),a=n("Yg/+"),u=n("fXoL");let d=(()=>{class t{}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)},imports:[[c.c,i.j,r.j,r.s,a.a,s.b.forRoot(),r.j,r.s,o.a]]}),t})()},JwhK:function(t,e,n){"use strict";n.d(e,"a",function(){return y});var c=n("+Kmi"),i=n("B/gT"),r=n("vkgz"),s=n("fXoL"),o=n("3Pt+"),a=n("kOKB"),u=n("K3ix"),d=n("l7P3"),l=n("ofXK"),b=n("aFxk");function p(t,e){1&t&&(s.Sb(0,"span"),s.Ac(1,"s"),s.Rb())}function h(t,e){if(1&t&&(s.Sb(0,"section"),s.Sb(1,"table",16),s.Sb(2,"thead"),s.Sb(3,"tr"),s.Sb(4,"th"),s.Ac(5,"Tran Ref"),s.Rb(),s.Sb(6,"th"),s.Ac(7,"Product Name"),s.Rb(),s.Sb(8,"th"),s.Ac(9,"Sale Details"),s.Rb(),s.Rb(),s.Sb(10,"tr"),s.Sb(11,"td"),s.Ac(12),s.Rb(),s.Sb(13,"td"),s.Ac(14),s.Rb(),s.Sb(15,"td"),s.Ac(16),s.yc(17,p,2,0,"span",17),s.Ac(18),s.cc(19,"currency"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t){const t=e.ngIf;s.Ab(12),s.Ec("#",t.productId,"/",t.saleId,"-",t.id,""),s.Ab(2),s.Bc(t.productName),s.Ab(2),s.Cc("",t.quantity," unit"),s.Ab(1),s.hc("ngIf",t.quantity>1),s.Ab(1),s.Cc(" @ ",s.ec(19,7,t.sellingPrice,t.sellingPriceCurrency+" "),"")}}function m(t,e){1&t&&(s.Sb(0,"section",18),s.Nb(1,"app-loading-bubble"),s.Rb())}function f(t,e){1&t&&s.Nb(0,"i",19)}function g(t,e){1&t&&s.Nb(0,"i",20)}let y=(()=>{class t extends(Object(i.a)(Object(c.a)())){constructor(t,e,n,c){super(),this.fb=t,this.saleService=e,this.modalService=n,this.store=c,this.storeInjected=this.store,this.modalServiceInjected=this.modalService,this.productSoldForm=this.fb.group({id:[""]}),this.validateRef=t=>e=>e.value==="#"+t?null:{refMismatch:"Id Mismatch"}}ngOnInit(){this.soldProduct$=this.saleService.getProductSoldWithId(this.id).pipe(Object(r.a)(t=>{var e;return null===(e=this.productSoldForm.get("id"))||void 0===e?void 0:e.setValidators(this.validateRef(`${t.productId}/${t.saleId}-${t.id}`))}))}productSoldFormSubmit(){this.productSoldForm.valid&&(this.submitInProgressSubject$.next(!0),this.saleService.deleteProductSoldWithId(this.id).subscribe({next:()=>{this.submitInProgressSubject$.next(!1),this.closeModal()},error:()=>this.submitInProgressSubject$.next(!1)}))}}return t.\u0275fac=function(e){return new(e||t)(s.Mb(o.d),s.Mb(a.a),s.Mb(u.a),s.Mb(d.h))},t.\u0275cmp=s.Gb({type:t,selectors:[["app-delete-sold-product"]],inputs:{id:"id"},features:[s.xb],decls:25,vars:12,consts:[[1,"bg-dark"],[3,"formGroup","submit"],[1,"card"],[1,"card-header"],[4,"ngIf","ngIfElse"],["loading",""],[1,"col-lg-12","mt-3","mb-2","d-flex"],["for","idConfirmation",1,"col-lg-6"],[1,"col-lg-6"],["id","idConfirmation","type","text","formControlName","id","placeholder","e.g #12/2-33",1,"form-control"],[1,"card-footer","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"disabled"],["class","icon-trash",4,"ngIf"],["class","icon-spin3 animate-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"icon-cancel"],[1,"table","table-dark"],[4,"ngIf"],[1,"p-2"],[1,"icon-trash"],[1,"icon-spin3","animate-spin"]],template:function(t,e){if(1&t&&(s.Sb(0,"section",0),s.Sb(1,"form",1),s.Zb("submit",function(){return e.productSoldFormSubmit()}),s.Sb(2,"section",2),s.Sb(3,"section",3),s.Sb(4,"h2"),s.Ac(5,"Delete Sold Product"),s.Rb(),s.Rb(),s.yc(6,h,20,10,"section",4),s.cc(7,"async"),s.yc(8,m,2,0,"ng-template",null,5,s.zc),s.Sb(10,"section",6),s.Sb(11,"label",7),s.Ac(12,"Please Enter Tran Ref To Confirm Deletion"),s.Rb(),s.Sb(13,"section",8),s.Nb(14,"input",9),s.Rb(),s.Rb(),s.Sb(15,"section",10),s.Sb(16,"button",11),s.Ac(17," Delete Sale "),s.yc(18,f,1,0,"i",12),s.cc(19,"async"),s.yc(20,g,1,0,"i",13),s.cc(21,"async"),s.Rb(),s.Sb(22,"button",14),s.Zb("click",function(){return e.closeModal()}),s.Nb(23,"span",15),s.Ac(24,"Cancel"),s.Rb(),s.Rb(),s.Rb(),s.Rb(),s.Rb()),2&t){const t=s.qc(9);s.Ab(1),s.hc("formGroup",e.productSoldForm),s.Ab(5),s.hc("ngIf",s.dc(7,6,e.soldProduct$))("ngIfElse",t),s.Ab(10),s.hc("disabled",e.productSoldForm.invalid||!e.productSoldForm.dirty),s.Ab(2),s.hc("ngIf",!1===s.dc(19,8,e.submitInProgressAction$)),s.Ab(2),s.hc("ngIf",s.dc(21,10,e.submitInProgressAction$))}},directives:[o.x,o.n,o.h,l.n,o.b,o.m,o.g,b.a],pipes:[l.b,l.d],styles:[""]}),t})()},LbUp:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return s});var c=n("l7P3"),i=n("cNJo");const r="currency",s=Object(c.p)([],Object(c.r)(i.a,t=>t),Object(c.r)(i.c,(t,e)=>[...new Set([...t,...e.data])]),Object(c.r)(i.b,t=>t))},MPUB:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var c=n("ofXK"),i=n("tyNb"),r=n("fXoL");let s=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[c.c,i.j]]}),t})()},MhzX:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n("3Pt+"),i=n("fXoL");let r=(()=>{class t{validate(t){return/^[a-zA-Z]+([\.-]?[a-zA-Z0-9]+)*@[a-zA-Z]+([\.-]?[a-zA-Z]+)*(\.[a-zA-Z]{2,3})+$/.test(t.value)?null:{email:"Field must contain a valid email address"}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=i.Hb({type:t,selectors:[["","appEmailValidator",""]],features:[i.zb([{provide:c.k,useExisting:t,multi:!0}])]}),t})()},Mo0h:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var c=n("fXoL"),i=n("ofXK"),r=n("tyNb");const s=function(t){return[t]};let o=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-link"]],inputs:{link:"link"},decls:5,vars:6,consts:[[1,"dashboard-link-item"],["type","menu","tabindex","0",1,"",3,"routerLink"],[1,"link","pl-2","pr-2"]],template:function(t,e){1&t&&(c.Sb(0,"div",0),c.Sb(1,"button",1),c.Nb(2,"span"),c.Sb(3,"span",2),c.Ac(4),c.Rb(),c.Rb(),c.Rb()),2&t&&(c.Ab(1),c.hc("routerLink","/"+(null==e.link?null:e.link.link)),c.Ab(1),c.Cb(c.kc(4,s,null==e.link?null:e.link.icon)),c.Ab(2),c.Bc(null==e.link?null:e.link.name))},directives:[r.g],styles:["button[_ngcontent-%COMP%]{background:none;color:inherit;border:none;width:100%;text-align:center}.dashboard-link-item[_ngcontent-%COMP%]{margin:20px;border-radius:14px;box-shadow:5px 10px #888}.dashboard-link-item[_ngcontent-%COMP%]:focus, .dashboard-link-item[_ngcontent-%COMP%]:hover{outline:none;border:2px solid #add8e6;margin-left:20px;margin-top:18px;margin-bottom:18px;cursor:pointer;color:#adff2f;box-shadow:5px 10px #add8e6}.dashboard-link-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{text-align:center}.dashboard-link-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:first-child{font-size:3rem;width:100%;display:block}.dashboard-link-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){font-size:.8rem}"]}),t})();function a(t,e){if(1&t&&(c.Sb(0,"li",2),c.Nb(1,"app-link",3),c.Rb()),2&t){const t=e.$implicit;c.Ab(1),c.hc("link",t)}}let u=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-links"]],inputs:{links$:"links$"},decls:3,vars:3,consts:[[1,"d-flex","flex-wrap","justify-content-between","justify-content-sm-around","align-items-center","mt-xl-3"],["class","dashboard-link-item col-xl-3 col-lg-4 col-md-5 col-sm-8 d-flex flex-wrap justify-content-center flex-column p-0",4,"ngFor","ngForOf"],[1,"dashboard-link-item","col-xl-3","col-lg-4","col-md-5","col-sm-8","d-flex","flex-wrap","justify-content-center","flex-column","p-0"],[3,"link"]],template:function(t,e){1&t&&(c.Sb(0,"ul",0),c.yc(1,a,2,1,"li",1),c.cc(2,"async"),c.Rb()),2&t&&(c.Ab(1),c.hc("ngForOf",c.dc(2,1,e.links$)))},directives:[i.m,o],pipes:[i.b],styles:["li[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{margin:0!important;padding:0!important}"]}),t})()},RecK:function(t,e,n){"use strict";n.d(e,"a",function(){return v});var c=n("ofXK"),i=n("l7P3"),r=n("9jGm"),s=n("bOdf"),o=n("lJxs"),a=n("JIr8"),u=n("LRne"),d=n("CRaK"),l=n("fXoL"),b=n("2qjx");let p=(()=>{class t{constructor(t,e){this.actions$=t,this.productsService=e,this.loadProductss$=Object(r.c)(()=>this.actions$.pipe(Object(r.d)(d.b),Object(s.a)(()=>this.productsService.products$.pipe(Object(o.a)(t=>d.d({data:t})),Object(a.a)(t=>Object(u.a)(d.c({error:t})))))))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(r.a),l.Wb(b.a))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac}),t})();var h=n("cNJo"),m=n("ChtM");let f=(()=>{class t{constructor(t,e){this.actions$=t,this.currencyService=e,this.loadCurrencys$=Object(r.c)(()=>this.actions$.pipe(Object(r.d)(h.a),Object(s.a)(()=>this.currencyService.currencies$.pipe(Object(o.a)(t=>h.c({data:t})),Object(a.a)(t=>Object(u.a)(h.b({error:t})))))))}}return t.\u0275fac=function(e){return new(e||t)(l.Wb(r.a),l.Wb(m.a))},t.\u0275prov=l.Ib({token:t,factory:t.\u0275fac}),t})();var g=n("6sdO"),y=n("LbUp");let v=(()=>{class t{}return t.\u0275mod=l.Kb({type:t}),t.\u0275inj=l.Jb({factory:function(e){return new(e||t)},imports:[[c.c,i.j.forFeature(g.a,g.b),r.b.forFeature([p,f]),i.j.forFeature(y.a,y.b)]]}),t})()},WwdM:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var c=n("ofXK"),i=n("3Pt+"),r=n("tyNb"),s=n("Yg/+"),o=n("fXoL");let a=(()=>{class t{}return t.\u0275mod=o.Kb({type:t}),t.\u0275inj=o.Jb({factory:function(e){return new(e||t)},imports:[[c.c,i.j,i.s,s.a,r.j]]}),t})()},YcCt:function(t,e,n){"use strict";function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,i){n=n||"=";var r={};if("string"!=typeof t||0===t.length)return r;var s=/\+/g;t=t.split(e=e||"&");var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var u=0;u<a;++u){var d,l,b,p,h=t[u].replace(s,"%20"),m=h.indexOf(n);m>=0?(d=h.substr(0,m),l=h.substr(m+1)):(d=h,l=""),b=decodeURIComponent(d),p=decodeURIComponent(l),c(r,b)?Array.isArray(r[b])?r[b].push(p):r[b]=[r[b],p]:r[b]=p}return r}},bLFI:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var c=n("2Vo4");const i=(t=class{})=>class extends t{constructor(){super(...arguments),this.filterStringSubject$=new c.a(""),this.filterStringAction$=this.filterStringSubject$.asObservable()}}},cNJo:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return s});var c=n("l7P3");const i=Object(c.n)("[Currency] Load Currencys"),r=Object(c.n)("[Currency] Load Currencys Success",Object(c.s)()),s=Object(c.n)("[Currency] Load Currencys Failure",Object(c.s)())},cTCC:function(t,e,n){"use strict";n.d(e,"a",function(){return y});var c=n("3Pt+"),i=n("+Kmi"),r=n("B/gT"),s=n("vkgz"),o=n("fXoL"),a=n("kOKB"),u=n("K3ix"),d=n("l7P3"),l=n("ofXK"),b=n("QlUG"),p=n("aFxk");function h(t,e){if(1&t&&(o.Sb(0,"section"),o.Sb(1,"div",12),o.Sb(2,"div",13),o.Ac(3,"Transaction Ref"),o.Rb(),o.Sb(4,"div",14),o.Ac(5),o.Rb(),o.Sb(6,"div",13),o.Ac(7,"Product"),o.Rb(),o.Sb(8,"div",14),o.Ac(9),o.cc(10,"titlecase"),o.Rb(),o.Sb(11,"div",13),o.Ac(12,"Transaction Time"),o.Rb(),o.Sb(13,"div",14),o.Ac(14),o.Rb(),o.Sb(15,"div",13),o.Ac(16,"Currency"),o.Rb(),o.Sb(17,"div",14),o.Ac(18),o.Rb(),o.Rb(),o.Sb(19,"div",15),o.Sb(20,"div",16),o.Nb(21,"app-input",17),o.Rb(),o.Sb(22,"div",16),o.Nb(23,"app-input",18),o.Rb(),o.Sb(24,"div",16),o.Nb(25,"app-input",19),o.Rb(),o.Rb(),o.Rb()),2&t){const t=e.ngIf;o.Ab(5),o.Ec("#",t.productId,"/",t.saleId,"-",t.id," "),o.Ab(4),o.Bc(o.dc(10,6,t.productName)),o.Ab(5),o.Bc(t.time),o.Ab(4),o.Bc(t.sellingPriceCurrency)}}function m(t,e){1&t&&(o.Sb(0,"section",20),o.Nb(1,"app-loading-bubble"),o.Rb())}function f(t,e){1&t&&o.Nb(0,"i",21)}function g(t,e){1&t&&o.Nb(0,"i",22)}let y=(()=>{class t extends(Object(i.a)(Object(r.a)())){constructor(t,e,n,i){super(),this.fb=t,this.saleService=e,this.modalService=n,this.store=i,this.storeInjected=this.store,this.modalServiceInjected=this.modalService,this.productSoldForm=this.fb.group({price:["",[c.v.required]],sellingPrice:["",[c.v.required]],quantity:["",[c.v.required]]})}ngOnInit(){this.soldProduct$=this.saleService.getProductSoldWithId(this.id).pipe(Object(s.a)(t=>this.productSoldForm.patchValue(Object.assign({},t))))}productSoldFormSubmit(){this.productSoldForm.valid&&(this.submitInProgressSubject$.next(!0),this.saleService.updateProductSold({id:this.id,data:this.productSoldForm.value}).subscribe({next:()=>{this.submitInProgressSubject$.next(!1),this.closeModal()},error:()=>this.submitInProgressSubject$.next(!1)}))}}return t.\u0275fac=function(e){return new(e||t)(o.Mb(c.d),o.Mb(a.a),o.Mb(u.a),o.Mb(d.h))},t.\u0275cmp=o.Gb({type:t,selectors:[["app-edit-sold-product"]],inputs:{id:"id"},features:[o.xb],decls:20,vars:12,consts:[[1,"bg-dark"],[3,"formGroup","submit"],[1,"card"],[1,"card-header"],[4,"ngIf","ngIfElse"],["loading",""],[1,"card-footer","d-flex","justify-content-between"],[1,"btn","btn-success",3,"disabled"],["class","icon-ok",4,"ngIf"],["class","icon-spin3 animate-spin",4,"ngIf"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"icon-cancel"],[1,"d-flex","flex-wrap","m-1","mt-2"],[1,"label-name","col-lg-3","mt-1","col-sm-6"],[1,"label-value","col-lg-3","mt-1","col-sm-6"],[1,"d-flex","flex-wrap","m-1","mt-4"],[1,"col-lg-6"],["type","number","labelClass","col-lg-6 col-md-12","inputClass","col-lg-6","label","Purchase Price","placeholder","eg 200.00","id","purchasePrice","formControlName","price"],["type","number","labelClass","col-lg-6 col-md-12","inputClass","col-lg-6","label","Selling Price","placeholder","eg 500.00","id","sellingPrice","formControlName","sellingPrice"],["type","number","labelClass","col-lg-6 col-md-12","inputClass","col-lg-6","label","Quantity","placeholder","eg 50","id","quantity","formControlName","quantity"],[1,"p-2"],[1,"icon-ok"],[1,"icon-spin3","animate-spin"]],template:function(t,e){if(1&t&&(o.Sb(0,"section",0),o.Sb(1,"form",1),o.Zb("submit",function(){return e.productSoldFormSubmit()}),o.Sb(2,"section",2),o.Sb(3,"section",3),o.Sb(4,"h2"),o.Ac(5,"Edit Sold Product Details"),o.Rb(),o.Rb(),o.yc(6,h,26,8,"section",4),o.cc(7,"async"),o.yc(8,m,2,0,"ng-template",null,5,o.zc),o.Sb(10,"section",6),o.Sb(11,"button",7),o.Ac(12," Save "),o.yc(13,f,1,0,"i",8),o.cc(14,"async"),o.yc(15,g,1,0,"i",9),o.cc(16,"async"),o.Rb(),o.Sb(17,"button",10),o.Zb("click",function(){return e.closeModal()}),o.Nb(18,"span",11),o.Ac(19,"Cancel"),o.Rb(),o.Rb(),o.Rb(),o.Rb(),o.Rb()),2&t){const t=o.qc(9);o.Ab(1),o.hc("formGroup",e.productSoldForm),o.Ab(5),o.hc("ngIf",o.dc(7,6,e.soldProduct$))("ngIfElse",t),o.Ab(5),o.hc("disabled",e.productSoldForm.invalid||!e.productSoldForm.dirty),o.Ab(2),o.hc("ngIf",!1===o.dc(14,8,e.submitInProgressAction$)),o.Ab(2),o.hc("ngIf",o.dc(16,10,e.submitInProgressAction$))}},directives:[c.x,c.n,c.h,l.n,b.a,c.m,c.g,p.a],pipes:[l.b,l.u],styles:[""]}),t})()},cUMb:function(t,e,n){"use strict";n.r(e),n.d(e,"PasswordManagementModule",function(){return K});var c=n("ofXK"),i=n("tyNb"),r=n("lJxs"),s=n("EY2u"),o=n("itXk"),a=n("fXoL"),u=n("8v1O");const d=function(){return["change-password"]};function l(t,e){1&t&&(a.Qb(0),a.Sb(1,"a",4),a.Ac(2," Change Password "),a.Nb(3,"span",5),a.Rb(),a.Pb()),2&t&&(a.Ab(1),a.hc("routerLink",a.jc(1,d)))}const b=function(){return["reset-user-password"]},p=function(){return["unlock-user"]},h=function(){return["block-user"]};function m(t,e){1&t&&(a.Qb(0),a.Sb(1,"a",4),a.Ac(2," Reset User Password "),a.Nb(3,"span",5),a.Rb(),a.Sb(4,"a",4),a.Ac(5," Unlock User "),a.Nb(6,"span",5),a.Rb(),a.Sb(7,"a",4),a.Ac(8," Block User "),a.Nb(9,"span",5),a.Rb(),a.Pb()),2&t&&(a.Ab(1),a.hc("routerLink",a.jc(3,b)),a.Ab(3),a.hc("routerLink",a.jc(4,p)),a.Ab(3),a.hc("routerLink",a.jc(5,h)))}let f=(()=>{class t{constructor(t,e){var n,c;this.route=t,this.myProfileService=e,this.userProfileId$=(null===(c=null===(n=this.route.parent)||void 0===n?void 0:n.parent)||void 0===c?void 0:c.paramMap.pipe(Object(r.a)(t=>Number(t.get("id")))))||s.a,this.myProfileId$=this.myProfileService.loadMyProfile$.pipe(Object(r.a)(t=>t.id)),this.isMyProfile$=Object(o.a)([this.userProfileId$,this.myProfileId$]).pipe(Object(r.a)(([t,e])=>t===e||!t))}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(i.a),a.Mb(u.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-password-management"]],decls:8,vars:6,consts:[[1,"mt-2","d-flex","flex-wrap","justify-content-around"],[1,"col-xl-3","col-lg-4","col-md-6"],[4,"ngIf"],[1,"col-xl-9","col-lg-8","col-md-12"],["routerLinkActive","active",1,"btn","btn-block","btn-secondary","d-flex","justify-content-between","m-2",3,"routerLink"],[1,"icon-right-dir"]],template:function(t,e){1&t&&(a.Sb(0,"section",0),a.Sb(1,"section",1),a.yc(2,l,4,2,"ng-container",2),a.cc(3,"async"),a.yc(4,m,10,6,"ng-container",2),a.cc(5,"async"),a.Rb(),a.Sb(6,"section",3),a.Nb(7,"router-outlet"),a.Rb(),a.Rb()),2&t&&(a.Ab(2),a.hc("ngIf",!0===a.dc(3,2,e.isMyProfile$)),a.Ab(2),a.hc("ngIf",!1===a.dc(5,4,e.isMyProfile$)))},directives:[c.n,i.k,i.i,i.h],pipes:[c.b],styles:[".active[_ngcontent-%COMP%]{color:#9acd32!important;background-color:#0a0a0a!important;pointer-events:none}"]}),t})();var g=n("+Kmi"),y=n("3Pt+"),v=n("5+tZ"),S=n("vkgz"),j=n("vzMs"),P=n("QlUG");function O(t,e){1&t&&a.Nb(0,"i",7)}function w(t,e){1&t&&a.Nb(0,"i",8)}let C=(()=>{class t extends(Object(g.a)()){constructor(t,e,n){var c,i,s;super(),this.route=t,this.fb=e,this.userService=n,this.routeId$=null===(s=null===(i=null===(c=this.route.parent)||void 0===c?void 0:c.parent)||void 0===i?void 0:i.parent)||void 0===s?void 0:s.paramMap.pipe(Object(r.a)(t=>Number(t.get("id")))),this.passwordResetForm=this.fb.group({resetPassword:["Manager1",y.v.required]}),this.submitPasswordReset=()=>{var t;this.submitInProgressSubject$.next(!0),null===(t=this.routeId$)||void 0===t||t.pipe(Object(v.a)(t=>{var e;return this.userService.resetPasswordForUserWithId({id:t,resetPassword:null===(e=this.passwordResetForm.get("resetPassword"))||void 0===e?void 0:e.value})}),Object(S.a)(()=>this.submitInProgressSubject$.next(!1))).subscribe({error:()=>this.submitInProgressSubject$.next(!1)})}}}return t.\u0275fac=function(e){return new(e||t)(a.Mb(i.a),a.Mb(y.d),a.Mb(j.a))},t.\u0275cmp=a.Gb({type:t,selectors:[["app-user-password-reset"]],features:[a.xb],decls:15,vars:13,consts:[[3,"formGroup","submit"],[1,"form-group"],["label","Reset Password","placeholder","Enter Password","id","password","formControlName","resetPassword","prependIcon","icon-lock-filled","type","password",3,"triggerValidation"],[1,"card-footer","d-flex","justify-content-between"],[1,"btn","btn-success",3,"disabled"],["class","icon-ok",4,"ngIf"],["class","icon-spin3 animate-spin",4,"ngIf"],[1,"icon-ok"],[1,"icon-spin3","animate-spin"]],template:function(t,e){1&t&&(a.Sb(0,"h2"),a.Ac(1,"User Password Reset"),a.Rb(),a.Sb(2,"form",0),a.Zb("submit",function(){return e.submitPasswordReset()}),a.Sb(3,"section"),a.Sb(4,"div",1),a.Nb(5,"app-input",2),a.cc(6,"async"),a.Rb(),a.Rb(),a.Sb(7,"section",3),a.Sb(8,"button",4),a.cc(9,"async"),a.Ac(10," Click to Reset "),a.yc(11,O,1,0,"i",5),a.cc(12,"async"),a.yc(13,w,1,0,"i",6),a.cc(14,"async"),a.Rb(),a.Rb(),a.Rb()),2&t&&(a.Ab(2),a.hc("formGroup",e.passwordResetForm),a.Ab(3),a.hc("triggerValidation",a.dc(6,5,e.triggerValidationAction$)),a.Ab(3),a.hc("disabled",e.passwordResetForm.invalid||a.dc(9,7,e.submitInProgressAction$)),a.Ab(3),a.hc("ngIf",e.passwordResetForm.valid&&!1===a.dc(12,9,e.submitInProgressAction$)),a.Ab(2),a.hc("ngIf",a.dc(14,11,e.submitInProgressAction$)))},directives:[y.x,y.n,y.h,P.a,y.m,y.g,c.n],pipes:[c.b],styles:[""]}),t})();var I=n("9cBx");const k=[{path:"",component:f,children:[{path:"",pathMatch:"full",data:{}},{path:"reset-user-password",component:C},{path:"change-password",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Gb({type:t,selectors:[["app-user-password-change"]],decls:6,vars:0,consts:[[1,"card","p-3"],[1,"d-flex"],[1,"col-xl-7","col-lg-9","col-md-9","col-sm-9"]],template:function(t,e){1&t&&(a.Sb(0,"h2"),a.Ac(1,"Password Change"),a.Rb(),a.Sb(2,"section",0),a.Sb(3,"section",1),a.Sb(4,"section",2),a.Nb(5,"app-password-change-form"),a.Rb(),a.Rb(),a.Rb())},directives:[I.a],styles:[""]}),t})()},{path:"**",loadChildren:()=>Promise.resolve().then(n.bind(null,"cOhv")).then(t=>t.ErrorModule)}]}];let A=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[i.j.forChild(k)],i.j]}),t})();var x=n("cOhv"),R=n("Yg/+");let $=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[c.c,x.ErrorModule,y.s,R.a]]}),t})();var M=n("WwdM");let _=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[c.c,M.a]]}),t})();var N=n("X/30"),F=n("jdGB");let K=(()=>{class t{}return t.\u0275mod=a.Kb({type:t}),t.\u0275inj=a.Jb({factory:function(e){return new(e||t)},imports:[[c.c,A,_,$,i.j,N.a,F.a,N.a]]}),t})()},gJ3R:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o});var c=n("l7P3"),i=n("6sdO");const r=Object(c.o)(i.a),s=Object(c.q)(r,t=>Object.values(t||{}).filter(t=>0!==t.id)),o=({id:t})=>Object(c.q)(r,e=>e[t])},gayR:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n("ofXK"),i=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[c.c]]}),t})()},hVnv:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n("fXoL"),i=n("3Pt+");let r=(()=>{class t{constructor(){this.ngModelChange=new c.n,this.onChanges=t=>{this.ngModelChange.emit(t)}}writeValue(t){void 0!==t&&(this.inputValue=t)}registerOnChange(t){this.onChanges=t}registerOnTouched(t){this.onTouched=t}propagateValue(t){this.onChanges(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-checkbox"]],inputs:{label:"label",readonly:"readonly"},outputs:{ngModelChange:"ngModelChange"},features:[c.zb([{provide:i.l,useExisting:Object(c.U)(()=>t),multi:!0}])],decls:5,vars:2,consts:[[1,"check-container"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"checkmark","icon-check"],[1,"checkmark","icon-check-empty"]],template:function(t,e){1&t&&(c.Sb(0,"label",0),c.Sb(1,"input",1),c.Zb("ngModelChange",function(t){return e.inputValue=t})("ngModelChange",function(t){return e.propagateValue(t)}),c.Rb(),c.Nb(2,"span",2),c.Nb(3,"span",3),c.Ac(4),c.Rb()),2&t&&(c.Ab(1),c.hc("ngModel",e.inputValue),c.Ab(3),c.Cc(" ",e.label,"\n"))},directives:[i.a,i.m,i.o],styles:[".check-container[_ngcontent-%COMP%]{width:100%;display:inline-block;position:relative;cursor:pointer;font-size:1.2rem;-webkit-user-select:none;-moz-user-select:none;user-select:none}.check-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.check-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] ~ .icon-check[_ngcontent-%COMP%]{display:none}.check-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .icon-check[_ngcontent-%COMP%], .check-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .icon-check-empty[_ngcontent-%COMP%]{display:inline-block}.check-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .icon-check-empty[_ngcontent-%COMP%]{display:none}.check-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ .checkmark[_ngcontent-%COMP%]{margin:0!important;outline:1px dotted #adff2f}label[_ngcontent-%COMP%]{margin-bottom:0!important}"]}),t})()},jdGB:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var c=n("ofXK"),i=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=i.Kb({type:t}),t.\u0275inj=i.Jb({factory:function(e){return new(e||t)},imports:[[c.c]]}),t})()},kOKB:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var c=n("XNiG"),i=n("lJxs"),r=n("vkgz"),s=n("w/e7"),o=n("e6Kq"),a=n("fXoL"),u=n("tk/3"),d=n("l7P3");let l=(()=>{class t extends(Object(o.a)()){constructor(t,e){super(),this.http=t,this.store=e,this.deleteSoldProductSubject$=new c.a,this.deleteSoldProductAction$=this.deleteSoldProductSubject$.asObservable(),this.updateSoldProductSubject$=new c.a,this.updateSoldProductAction$=this.updateSoldProductSubject$.asObservable(),this.url="api/sales",this.saleDates$=this.http.get(`${this.url}/?sale_dates=true`),this.updateProductSold=({id:t,data:e})=>this.http.post(`${this.url}/${t}`,Object.assign(Object.assign({},e),{_method:"PATCH"})).pipe(Object(i.a)(({data:t})=>t),Object(r.a)(t=>this.updateSoldProductSubject$.next(t)),Object(i.a)(this.mappedSoldProduct)),this.getProductSoldWithId=t=>this.http.get(`${this.url}/${t}`).pipe(Object(i.a)(this.mappedSoldProduct)),this.deleteProductSoldWithId=t=>this.http.delete(`${this.url}/${t}`).pipe(Object(r.a)(()=>this.deleteSoldProductSubject$.next(t))),this.getSoldProductsForDate$=t=>this.http.get(`${this.url}/?sale_date=${this.getDate(t)}`).pipe(Object(i.a)(this.mappedSoldProducts)),this.mappedSoldProduct=t=>Object.assign(Object.assign({},t),{saleId:t.sale_id,productId:t.product_id,productName:t.product_name,sellingPrice:t.selling_price,price:t.fifo_purchase_price,sellingPriceCurrency:t.selling_price_currency,time:t.created_at.substr(11,8)}),this.mappedSoldProducts=t=>t.map(this.mappedSoldProduct)}saveSale({discount:t,products:e,payment:n}){const c={discount:{discount_type:t.type,discount_amount:t.amount},products:e.map(t=>({product_id:t.productId,selling_price_currency:t.saleCurrency,selling_price:t.salePrice,quantity:t.saleQuantity})),payment:Object.assign(Object.assign({},n),{phone:n.phoneNumber,amount:n.amountReceived})};return this.http.post(this.url,c).pipe(Object(r.a)(()=>this.store.dispatch(Object(s.b)())))}}return t.\u0275fac=function(e){return new(e||t)(a.Wb(u.b),a.Wb(d.h))},t.\u0275prov=a.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},l3v1:function(t,e,n){"use strict";n.d(e,"a",function(){return d});var c=n("fXoL"),i=n("ofXK");function r(t,e){if(1&t){const t=c.Tb();c.Sb(0,"button",7),c.Zb("click",function(){return c.tc(t),c.bc().triggerValidation()}),c.Ac(1,"Validate"),c.Rb()}}function s(t,e){1&t&&(c.Sb(0,"span"),c.Ac(1," Save Details "),c.Rb())}function o(t,e){1&t&&c.Nb(0,"i",8)}function a(t,e){1&t&&c.Nb(0,"i",9)}const u=["*"];let d=(()=>{class t{constructor(){this.validationButtonClicked=new c.n}ngOnInit(){}triggerValidation(){this.validationButtonClicked.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Gb({type:t,selectors:[["app-validate-submit-buttons"]],inputs:{formItem:"formItem",isSubmitting:"isSubmitting"},outputs:{validationButtonClicked:"validationButtonClicked"},ngContentSelectors:u,decls:9,vars:5,consts:[[1,"d-flex","justify-content-end"],["type","button","class","btn btn-secondary mr-4",3,"click",4,"ngIf"],[1,"btn","btn-success",3,"disabled"],["ref",""],[4,"ngIf"],["class","icon-spin3 animate-spin",4,"ngIf"],["class","icon-ok-1",4,"ngIf"],["type","button",1,"btn","btn-secondary","mr-4",3,"click"],[1,"icon-spin3","animate-spin"],[1,"icon-ok-1"]],template:function(t,e){if(1&t&&(c.gc(),c.Sb(0,"section",0),c.yc(1,r,2,0,"button",1),c.Sb(2,"button",2),c.Sb(3,"span",null,3),c.fc(5),c.Rb(),c.yc(6,s,2,0,"span",4),c.yc(7,o,1,0,"i",5),c.yc(8,a,1,0,"i",6),c.Rb(),c.Rb()),2&t){const t=c.qc(4);c.Ab(1),c.hc("ngIf",!e.formItem.valid),c.Ab(1),c.hc("disabled",!e.formItem.dirty||!e.formItem.valid||e.isSubmitting),c.Ab(4),c.hc("ngIf",0===t.children.length),c.Ab(1),c.hc("ngIf",e.isSubmitting),c.Ab(1),c.hc("ngIf",!e.isSubmitting&&e.formItem.valid&&e.formItem.dirty)}},directives:[i.n],styles:[""]}),t})()},r8II:function(t,e,n){"use strict";e.decode=e.parse=n("YcCt"),e.encode=e.stringify=n("6MUB")},sEf6:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var c=n("XNiG");const i=(t=class{})=>class extends t{constructor(){super(...arguments),this.destroyed$=new c.a}ngOnDestroy(){this.destroyed$.next()}}},"w/e7":function(t,e,n){"use strict";n.d(e,"d",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return o});var c=n("l7P3");const i=Object(c.n)("[Cart] Load Carts Success",Object(c.s)()),r=Object(c.n)("[Cart] Change Quantity",Object(c.s)()),s=Object(c.n)("[Cart] Delete Item",Object(c.s)()),o=Object(c.n)("[Cart] Delete All Cart Items")},wNMA:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var c=n("fXoL");let i=(()=>{class t{canDeactivate(t){return t.canDeactivate&&t.canDeactivate()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},x6Rh:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var c=n("2Vo4"),i=n("vkgz"),r=n("lJxs"),s=n("fXoL"),o=n("tk/3");let a=(()=>{class t{constructor(t){this.http=t,this.adjustment={},this.adjustmentsSubject$=new c.a({}),this.adjustmentsAction$=this.adjustmentsSubject$.asObservable()}adjustQuantity({id:t,adjustment:e,reason:n}){return this.http.post(`api/products/${t}/inventory-quantity`,{adjustment:e,reason:n}).pipe(Object(i.a)(t=>this.adjustment=Object.assign(Object.assign({},this.adjustment),{[t.data.product_id]:t.data.adjustment})),Object(i.a)(()=>this.adjustmentsSubject$.next(Object.assign({},this.adjustment))))}quantityForProductWithId(t){return this.http.get(`api/products/${t}/inventory-quantity`).pipe(Object(i.a)(()=>this.adjustment={}),Object(i.a)(()=>this.adjustmentsSubject$.next({})))}changesStatement(t){return this.http.get(`api/products/${t}/inventory-changes-statement`).pipe(Object(r.a)(t=>Object.assign(Object.assign({},t),{inventoryStatement:t.inventoryStatement.sort(({dateTime:t},{dateTime:e})=>new Date(t)>new Date(e)?1:-1)})),Object(r.a)(t=>Object.assign(Object.assign({},t),{inventoryStatement:t.inventoryStatement.reduce((t,e,n)=>[...t,Object.assign(Object.assign({},e),{total:0===n?e.quantity:t[n-1].total+e.quantity})],[])})))}}return t.\u0275fac=function(e){return new(e||t)(s.Wb(o.b))},t.\u0275prov=s.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);