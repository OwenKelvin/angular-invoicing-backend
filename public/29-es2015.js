(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"9LdX":function(t,n,e){"use strict";e.r(n),e.d(n,"LoginTokenModule",function(){return w});var o=e("ofXK"),i=e("tyNb"),r=e("3Pt+"),s=e("2Vo4"),c=e("PqYM"),a=e("GJmQ"),b=e("vkgz"),u=e("pLZG"),d=e("cWFC"),m=e("fXoL"),g=e("TTF2"),l=e("l7P3"),h=e("UyyX"),p=e("EsqS");function f(t,n){1&t&&m.Nb(0,"i",11)}function k(t,n){1&t&&m.Nb(0,"i",12)}const v=function(){return[!0]},S=[{path:"",pathMatch:"full",component:(()=>{class t{constructor(t,n,e,o){this.fb=t,this.authService=n,this.router=e,this.store=o,this.tokenLoginForm=this.fb.group({token:["",[r.v.required]]}),this.isSubmittingSubject$=new s.a(!1),this.isSubmittingActions$=this.isSubmittingSubject$.asObservable(),this.clipBoardChange$=Object(c.a)(500,500),this.componentIsActive=!0}submitTokenLoginForm(){var t;this.isSubmittingSubject$.next(!0),this.tokenLoginForm.valid?this.authService.tokenLogin(this.tokenLoginForm.value).pipe(Object(a.a)(()=>this.componentIsActive)).subscribe({next:({token:t})=>{this.isSubmittingSubject$.next(!1),this.router.navigate(["/login/password-change"],{queryParams:{token:t},queryParamsHandling:"merge"}),this.store.dispatch(Object(d.b)({data:{toastHeader:"Login Successful!",toastBody:"Successfully authenticated",showMessage:!0,toastTime:"Just Now"}}))},error:()=>this.isSubmittingSubject$.next(!1)}):null===(t=this.tokenLoginForm.get("email"))||void 0===t||t.markAsTouched()}ngOnInit(){const t=new s.a(""),n=t.asObservable();this.clipBoardChange$.pipe(Object(b.a)(()=>navigator.clipboard.readText().then(n=>t.next(n)).catch(()=>{}))).subscribe(),n.pipe(Object(u.a)(()=>{var t;return""===(null===(t=this.tokenLoginForm.get("token"))||void 0===t?void 0:t.value)}),Object(u.a)(t=>{var n;return(null===(n=this.tokenLoginForm.get("token"))||void 0===n?void 0:n.value)!==t}),Object(u.a)(t=>/^[a-zA-Z0-9]{50}$/.test(t)),Object(b.a)(t=>{var n;return null===(n=this.tokenLoginForm.get("token"))||void 0===n?void 0:n.setValue(t)}),Object(b.a)(()=>this.tokenLoginForm.markAsDirty())).subscribe()}ngOnDestroy(){this.componentIsActive=!1}}return t.\u0275fac=function(n){return new(n||t)(m.Mb(r.d),m.Mb(g.a),m.Mb(i.f),m.Mb(l.h))},t.\u0275cmp=m.Gb({type:t,selectors:[["app-login-token"]],decls:20,vars:12,consts:[[1,"login-error"],[1,"card","col-lg-12"],[1,"card-header"],[1,"card-body"],[1,"form-horizontal",3,"formGroup","submit"],["placeholder","Enter Token","id","token","formControlName","token","prependIcon","icon-mail",1,"form-control","mb-2",3,"autofocus"],[1,"d-flex","justify-content-between"],["type","button","routerLink","/login","queryParamsHandling","preserve",1,"btn","btn-secondary"],[1,"btn","btn-success",3,"disabled"],["class","icon-spin3 animate-spin",4,"ngIf"],["class","icon-ok-1",4,"ngIf"],[1,"icon-spin3","animate-spin"],[1,"icon-ok-1"]],template:function(t,n){1&t&&(m.Sb(0,"section",0),m.Nb(1,"app-error"),m.Rb(),m.Sb(2,"app-full-with-center"),m.Sb(3,"section",1),m.Sb(4,"section",2),m.Sb(5,"h1"),m.Ac(6,"Password Token"),m.Rb(),m.Rb(),m.Sb(7,"section",3),m.Sb(8,"form",4),m.Zb("submit",function(){return n.submitTokenLoginForm()}),m.Nb(9,"textarea",5),m.Sb(10,"section",6),m.Sb(11,"button",7),m.Ac(12,"Cancel"),m.Rb(),m.Sb(13,"button",8),m.cc(14,"async"),m.Ac(15," Submit "),m.yc(16,f,1,0,"i",9),m.cc(17,"async"),m.yc(18,k,1,0,"i",10),m.cc(19,"async"),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb(),m.Rb()),2&t&&(m.Ab(8),m.hc("formGroup",n.tokenLoginForm),m.Ab(1),m.hc("autofocus",m.jc(11,v)),m.Ab(4),m.hc("disabled",!n.tokenLoginForm.dirty||!n.tokenLoginForm.valid||m.dc(14,5,n.isSubmittingActions$)),m.Ab(3),m.hc("ngIf",m.dc(17,7,n.isSubmittingActions$)),m.Ab(2),m.hc("ngIf",!1===m.dc(19,9,n.isSubmittingActions$)&&n.tokenLoginForm.valid&&n.tokenLoginForm.dirty))},directives:[h.a,p.a,r.x,r.n,r.h,r.b,r.m,r.g,i.g,o.n],pipes:[o.b],styles:["h1[_ngcontent-%COMP%]{font-size:1.5rem}@media (max-width:400px){.container[_ngcontent-%COMP%]{padding:0!important;margin:0!important;background-color:red!important}.card[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%], .card-heading[_ngcontent-%COMP%]{padding:10px;margin:1em;min-width:200px}}"]}),t})()}];let y=(()=>{class t{}return t.\u0275mod=m.Kb({type:t}),t.\u0275inj=m.Jb({factory:function(n){return new(n||t)},imports:[[i.j.forChild(S)],i.j]}),t})();var L=e("HEfn"),j=e("cOhv");let w=(()=>{class t{}return t.\u0275mod=m.Kb({type:t}),t.\u0275inj=m.Jb({factory:function(n){return new(n||t)},imports:[[o.c,y,r.j,r.s,L.a,j.ErrorModule]]}),t})()}}]);