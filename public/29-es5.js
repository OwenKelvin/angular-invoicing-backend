!function(){function n(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function t(n,t){for(var e=0;e<t.length;e++){var o=t[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"9LdX":function(e,o,i){"use strict";i.r(o),i.d(o,"LoginTokenModule",function(){return x});var r=i("ofXK"),c=i("tyNb"),a=i("3Pt+"),s=i("2Vo4"),u=i("PqYM"),b=i("GJmQ"),m=i("vkgz"),d=i("pLZG"),l=i("cWFC"),g=i("fXoL"),f=i("TTF2"),p=i("l7P3"),h=i("UyyX"),v=i("EsqS");function k(n,t){1&n&&g.Nb(0,"i",11)}function y(n,t){1&n&&g.Nb(0,"i",12)}var S,j,w,L=function(){return[!0]},O=[{path:"",pathMatch:"full",component:(S=function(){function e(t,o,i,r){n(this,e),this.fb=t,this.authService=o,this.router=i,this.store=r,this.tokenLoginForm=this.fb.group({token:["",[a.v.required]]}),this.isSubmittingSubject$=new s.a(!1),this.isSubmittingActions$=this.isSubmittingSubject$.asObservable(),this.clipBoardChange$=Object(u.a)(500,500),this.componentIsActive=!0}var o,i,r;return o=e,(i=[{key:"submitTokenLoginForm",value:function(){var n,t=this;this.isSubmittingSubject$.next(!0),this.tokenLoginForm.valid?this.authService.tokenLogin(this.tokenLoginForm.value).pipe(Object(b.a)(function(){return t.componentIsActive})).subscribe({next:function(n){var e=n.token;t.isSubmittingSubject$.next(!1),t.router.navigate(["/login/password-change"],{queryParams:{token:e},queryParamsHandling:"merge"}),t.store.dispatch(Object(l.b)({data:{toastHeader:"Login Successful!",toastBody:"Successfully authenticated",showMessage:!0,toastTime:"Just Now"}}))},error:function(){return t.isSubmittingSubject$.next(!1)}}):null===(n=this.tokenLoginForm.get("email"))||void 0===n||n.markAsTouched()}},{key:"ngOnInit",value:function(){var n=this,t=new s.a(""),e=t.asObservable();this.clipBoardChange$.pipe(Object(m.a)(function(){return navigator.clipboard.readText().then(function(n){return t.next(n)}).catch(function(){})})).subscribe(),e.pipe(Object(d.a)(function(){var t;return""===(null===(t=n.tokenLoginForm.get("token"))||void 0===t?void 0:t.value)}),Object(d.a)(function(t){var e;return(null===(e=n.tokenLoginForm.get("token"))||void 0===e?void 0:e.value)!==t}),Object(d.a)(function(n){return/^[a-zA-Z0-9]{50}$/.test(n)}),Object(m.a)(function(t){var e;return null===(e=n.tokenLoginForm.get("token"))||void 0===e?void 0:e.setValue(t)}),Object(m.a)(function(){return n.tokenLoginForm.markAsDirty()})).subscribe()}},{key:"ngOnDestroy",value:function(){this.componentIsActive=!1}}])&&t(o.prototype,i),r&&t(o,r),e}(),S.\u0275fac=function(n){return new(n||S)(g.Mb(a.d),g.Mb(f.a),g.Mb(c.f),g.Mb(p.h))},S.\u0275cmp=g.Gb({type:S,selectors:[["app-login-token"]],decls:20,vars:12,consts:[[1,"login-error"],[1,"card","col-lg-12"],[1,"card-header"],[1,"card-body"],[1,"form-horizontal",3,"formGroup","submit"],["placeholder","Enter Token","id","token","formControlName","token","prependIcon","icon-mail",1,"form-control","mb-2",3,"autofocus"],[1,"d-flex","justify-content-between"],["type","button","routerLink","/login","queryParamsHandling","preserve",1,"btn","btn-secondary"],[1,"btn","btn-success",3,"disabled"],["class","icon-spin3 animate-spin",4,"ngIf"],["class","icon-ok-1",4,"ngIf"],[1,"icon-spin3","animate-spin"],[1,"icon-ok-1"]],template:function(n,t){1&n&&(g.Sb(0,"section",0),g.Nb(1,"app-error"),g.Rb(),g.Sb(2,"app-full-with-center"),g.Sb(3,"section",1),g.Sb(4,"section",2),g.Sb(5,"h1"),g.Ac(6,"Password Token"),g.Rb(),g.Rb(),g.Sb(7,"section",3),g.Sb(8,"form",4),g.Zb("submit",function(){return t.submitTokenLoginForm()}),g.Nb(9,"textarea",5),g.Sb(10,"section",6),g.Sb(11,"button",7),g.Ac(12,"Cancel"),g.Rb(),g.Sb(13,"button",8),g.cc(14,"async"),g.Ac(15," Submit "),g.yc(16,k,1,0,"i",9),g.cc(17,"async"),g.yc(18,y,1,0,"i",10),g.cc(19,"async"),g.Rb(),g.Rb(),g.Rb(),g.Rb(),g.Rb(),g.Rb()),2&n&&(g.Ab(8),g.hc("formGroup",t.tokenLoginForm),g.Ab(1),g.hc("autofocus",g.jc(11,L)),g.Ab(4),g.hc("disabled",!t.tokenLoginForm.dirty||!t.tokenLoginForm.valid||g.dc(14,5,t.isSubmittingActions$)),g.Ab(3),g.hc("ngIf",g.dc(17,7,t.isSubmittingActions$)),g.Ab(2),g.hc("ngIf",!1===g.dc(19,9,t.isSubmittingActions$)&&t.tokenLoginForm.valid&&t.tokenLoginForm.dirty))},directives:[h.a,v.a,a.x,a.n,a.h,a.b,a.m,a.g,c.g,r.n],pipes:[r.b],styles:["h1[_ngcontent-%COMP%]{font-size:1.5rem}@media (max-width:400px){.container[_ngcontent-%COMP%]{padding:0!important;margin:0!important;background-color:red!important}.card[_ngcontent-%COMP%], .card-body[_ngcontent-%COMP%], .card-heading[_ngcontent-%COMP%]{padding:10px;margin:1em;min-width:200px}}"]}),S)}],A=((j=function t(){n(this,t)}).\u0275mod=g.Kb({type:j}),j.\u0275inj=g.Jb({factory:function(n){return new(n||j)},imports:[[c.j.forChild(O)],c.j]}),j),F=i("HEfn"),M=i("cOhv"),x=((w=function t(){n(this,t)}).\u0275mod=g.Kb({type:w}),w.\u0275inj=g.Jb({factory:function(n){return new(n||w)},imports:[[r.c,A,a.j,a.s,F.a,M.ErrorModule]]}),w)}}])}();